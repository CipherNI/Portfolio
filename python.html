<!DOCTYPE html>
<html>
<head>
    <title>Hangman Game</title>
    <link rel="stylesheet" href="style.css">
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/brython@3.10.2/src/brython.js"></script>
</head>
<body onload="brython()">

    <h1>Hangman Game</h1>
    <div id="setup">
        <p>Enter a word for someone else to guess or leave it blank to use a random word:</p>
        <input id="customWord" type="text" placeholder="Enter custom word (optional)" />
        <button id="startGame">Start Game</button>
    </div>
    <div id="game" style="display:none;">
        <p>Guess the word by typing a letter in the box below:</p>
        <input id="guess" type="text" maxlength="1" oninput="this.value = this.value.toLowerCase()" />
        <button id="makeGuess">Guess!</button>
        <p id="wordDisplay">_ _ _ _ _</p>
        <p>Wrong guesses: <span id="wrongGuesses"></span></p>
    </div>

    <script type="text/python">
        from browser import document, alert
        import random

        words = ["brython", "python", "hangman", "programming", "cyberspace"]
        word = ""
        displayed_word = []
        wrong_guesses = []

        def update_display():
            document["wordDisplay"].textContent = " ".join(displayed_word)
            document["wrongGuesses"].textContent = ", ".join(wrong_guesses)

        def start_game(ev):
            global word, displayed_word, wrong_guesses
            custom_word = document["customWord"].value.strip().lower()
            word = custom_word if custom_word else random.choice(words)
            displayed_word = ["_"] * len(word)
            wrong_guesses = []
            update_display()
            document["setup"].style.display = "none"
            document["game"].style.display = "block"

        def make_guess(ev):
            guess = document["guess"].value
            document["guess"].value = ""  # Clear input field
            if guess in word:
                for index, letter in enumerate(word):
                    if letter == guess:
                        displayed_word[index] = guess
                update_display()
            elif guess not in wrong_guesses:
                wrong_guesses.append(guess)
                update_display()

        document["startGame"].bind("click", start_game)
        document["makeGuess"].bind("click", make_guess)
    </script>
</body>
</html>
